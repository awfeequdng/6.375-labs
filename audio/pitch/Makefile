### Makefile for the system project
### Generated by Bluespec Workstation on Fri Mar  1 20:59:34 EST 2013

default: full_clean compile link simulate

cl: compile link
cls: compile link simulate

.PHONY: compile
compile:
	@echo Compiling...
	bsc -u -sim -simdir bscdir -bdir bscdir -info-dir bscdir -keep-fires -aggressive-conditions -p .:%/Prelude:%/Libraries:%/Libraries/BlueNoC:./../common:./../fir:./../fft -g mkTestDriver  ../common/TestDriver.bsv 
	@echo Compilation finished

.PHONY: link
link:
	@echo Linking...
	bsc -e mkTestDriver -sim -o ./out -simdir bscdir -p bscdir:.:%/Prelude:%/Libraries:%/Libraries/BlueNoC:./../common:./../fir:./../fft -keep-fires 
	@echo Linking finished

.PHONY: simulate
simulate:
	@echo Simulation...
	./out 
	@echo Simulation finished

.PHONY: clean
clean:
	exec rm -f bscdir/PitchAdjustTest.bo bscdir/ComplexMP.bo bscdir/PitchAdjust.bo
	exec rm -f bscdir/mkPitchAdjustTest.ba
	exec rm -f bscdir/model_mkPitchAdjustTest.o bscdir/mkPitchAdjustTest.o

.PHONY: full_clean
full_clean:
	rm -f bscdir/PitchAdjustTest.bo bscdir/ComplexMP.bo bscdir/PitchAdjust.bo
	rm -f bscdir/mkPitchAdjustTest.ba
	rm -f bscdir/model_mkPitchAdjustTest.o bscdir/mkPitchAdjustTest.o
	rm -f bscdir/model_mkPitchAdjustTest.h bscdir/mkPitchAdjustTest.h
	rm -f bscdir/model_mkPitchAdjustTest.cxx bscdir/mkPitchAdjustTest.cxx
